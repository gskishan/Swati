{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-05-24 14:15:59.810637",
 "css": "\n    .invoice-table {\n        border-collapse: collapse;\n        width: 100%;\n        font-size: 13px;\n         \n    }\n    .invoice-table th, .invoice-table td {\n        padding: 5px;\n        vertical-align: top;\n    }\n    \n    .invoice-table th {\n        background-color: #e55d1b !important;\n        color: white !important;\n       \n        font-weight: bold;\n        font-size: 11px;\n}\n\n    .text-right {\n        text-align: right;\n    }\n    .text-center {\n        text-align: center;\n    }\n  \n    .totals-table td {\n        border: 1px solid #000;\n        padding: 5px;\n    }\n    \n    .totals-table {\n  border-collapse: collapse;\n  width: 100%;\n  margin-top: 8px; /* prevents merging */\n  font-size: 12px;\n  font-weight: bold;\n}",
 "custom_format": 1,
 "default_print_language": "en-GB",
 "disabled": 1,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "font_size": 0,
 "html": "<style>\n    @page {\n        size: A4;\n        margin: 10mm;\n    }\n    body {\n        font-size: 11px;\n        line-height: 1.3;\n        color: black;\n    }\n    table {\n        border-collapse: collapse;\n        page-break-inside: avoid;\n        width: 100%;\n        font-size: 11px;\n    }\n    table, th, td {\n        border: none;\n    }\n    th, td {\n        padding: 2px 4px;\n    }\n    #header-html img {\n        height: 60px;\n        width: auto;\n        position: relative;\n        top: -5px;\n    }\n    div {\n        page-break-inside: avoid;\n        font-size: 11px;\n    }\n    .flex-row {\n        display: flex;\n        justify-content: space-between;\n        align-items: flex-start;\n        gap: 5px;\n        font-size: 11px;\n    }\n    .title {\n        font-size: 24px;\n        font-weight: bold;\n        text-align: center;\n        font-family: sans-serif;\n        margin-top: -30px;\n    }\n    .amount-due {\n        text-align: right;\n        background-color: #e55d1b;\n        color: #fff;\n        font-size: 13px;\n        font-weight: bold;\n    }\n    .copy-label {\n        text-align: right;\n        font-size: 15px;\n        font-weight: bold;\n        color: #000;\n        position: relative;\n        top: 20px;\n    }\n</style>\n\n{% set copies = [] %}\n{% if doc.invoice_copy == \"Duplicate for Transporter\" %}\n    {% set copies = [\"Original for Recipient\", \"Duplicate for Transporter\"] %}\n{% elif doc.invoice_copy == \"Triplicate for Supplier\" %}\n    {% set copies = [\"Original for Recipient\", \"Duplicate for Transporter\", \"Triplicate for Supplier\"] %}\n{% else %}\n    {% set copies = [\"Original for Recipient\"] %}\n{% endif %}\n\n{% for copy in copies %}\n<div {% if not loop.first %}style=\"page-break-before: always;\"{% endif %}>\n\n<!-- \u2705 Big Copy Label -->\n<p class=\"copy-label\">{{ copy }}</p>\n\n<!-- Header -->\n<div id=\"header-html\" class=\"hidden-pdf\" \n     style=\"display:flex; justify-content:space-between; align-items:center; width:100%;\">\n\n    <!-- Left: Logo -->\n    <div style=\"width:33%; text-align:left;\">\n        <img src=\"/files/Logo.png\">\n    </div>\n\n    <!-- Center: Title -->\n    <div style=\"width:33%;\" class=\"title\">\n        TAX INVOICE\n    </div>\n\n    <!-- Right: Invoice No -->\n    <div style=\"width:34%; text-align:right; color:#4a4a4a; font-weight:500;font-family: sans-serif;\">\n        <p style=\"color:black; font-weight:bold; font-size:20px;\">{{ doc.name }}</p>\n    </div>\n</div>\n\n<!-- Company & Invoice Info Block -->\n<div style=\"display:flex; justify-content:space-between; align-items:flex-start; width:100%;\">\n\n    <!-- Left: Company Details -->\n    <div style=\"width:62%; padding:8px; font-size:11px; line-height:1.5;\">\n        {% set lines = (doc.company_address_display or \"\").split('<br>') %}\n        {% set filtered_lines = [] %}\n        {% for line in lines %}\n            {% set line = line | trim %}\n            {% if line and not line.startswith(\"Phone\") and not line.startswith(\"Email\") %}\n                {% set _ = filtered_lines.append(line) %}\n            {% endif %}\n        {% endfor %}\n        <p style=\"font-family: 'Google Sans', Roboto, 'Helvetica Neue', Arial, sans-serif; font-weight: bold; font-size: 16px; color: #1f1f1f; margin-top:-10px;\">\n            {{ filtered_lines[0] }}</p>\n        {{ filtered_lines[1:] | join(\", \") }}\n        <br>\n        accounts@sasgroups.net <br>\n        <b>GSTIN:</b> {{ doc.company_gstin }} &nbsp;<b>LUT Bond No.:</b> 123456789<br>\n        <b>PAN:</b> {{ frappe.get_doc(\"Company\", doc.company).pan or \"\" }}\n        <b>CIN No. :</b> 987654321 <b>Test CST:</b> 27AA1254632<br>\n        <b>FSSAI No.:</b> FSMH27 <b>TAN:</b> AAFCV2449G<b> D.L. No.:</b>DL78986<br>\n        <b>Website:</b> www.sleekbill.in <b>Contact:</b> Vicky Kalbande\n    </div>\n\n    <!-- Right: Invoice Info -->\n    <div style=\"width:38%;  font-size:11px;\">\n        <div style=\"background:#e55d1b; color:#fff; font-weight:bold; padding:6px 12px; font-size:13px; display:flex; justify-content:space-between; align-items:center;\">\n            <span style=\"color:white;\">Amount Due:</span>\n            <span style=\"color:white;\">{{ doc.get_formatted(\"outstanding_amount\") }}</span>\n        </div>\n    <div style=\"width:100%; font-size:11px;\">\n        <div style=\"display:flex; justify-content:space-between; padding:2px 0;\">\n            <span> &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Issue Date:</span>\n            <span>{{ doc.get_formatted(\"posting_date\") }}&nbsp;&nbsp;</span>\n    </div>\n    <div style=\"display:flex; justify-content:space-between; padding:2px 0;\">\n        <span>&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Due Date:</span>\n        <span>{{ doc.get_formatted(\"due_date\") }}&nbsp;&nbsp;</span>\n    </div>\n    {% set dn = frappe.get_doc(\"Delivery Note\", doc.items[0].delivery_note) if doc.items and doc.items[0].delivery_note else None %}\n\n    <div style=\"display:flex; justify-content:space-between; padding:2px 0;\">\n        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dispatch From:</span>\n        <span>{{ dn.set_warehouse if dn else \"\" }}&nbsp;&nbsp;</span>\n    </div>\n    \n    <div style=\"display:flex; justify-content:space-between; padding:2px 0;\">\n        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dispatch Date:</span>\n        <span>{{ frappe.utils.format_date(dn.posting_date, \"dd-MM-yyyy\") if dn else \"\" }}&nbsp;&nbsp;</span>\n    </div>\n    <div style=\"display:flex; justify-content:space-between; padding:2px 0;\">\n        <span>&nbsp;&nbsp; &nbsp;&nbsp;Place of Supply:</span>\n        <span>{{ doc.place_of_supply or \"\" }}&nbsp;&nbsp;</span>\n    </div>\n</div>\n\n    </div>\n</div>\n\n<!-- Client & Shipping -->\n<table border=\"1\" width=\"100%\">\n    <tr>\n        <td width=\"62%\"><b style=\"font-family: sans-serif; font-size:13px;\">Client Name:</b><br><b style=\"font-family: sans-serif; font-size:13px;\"></b>\n        {{ doc.customer or \"\" }}<br>\n        {% set clean_address = [] %}\n        {% for line in (doc.address_display or \"\").split(\"<br>\") %}\n            {% if \"Email\" not in line %}\n                {% set _ = clean_address.append(line) %}\n            {% endif %}\n        {% endfor %}\n        {{ clean_address | join(\", \") }} <br>\n        </b> {{ frappe.db.get_value(\"Address\", doc.customer_address, \"email_id\") or \"\" }} \n        {{ frappe.db.get_value(\"Address\", doc.customer_address, \"phone\") or \"\" }}<br>\n        {% if doc.billing_address_gstin %}\n            <b>GSTIN:</b> {{ doc.billing_address_gstin }}<br>\n        {% endif %}\n        {% set pan = frappe.db.get_value(\"Customer\", doc.customer, \"pan\") %}\n        {% if pan %}\n            <b>PAN:</b> {{ pan }}<br>\n        {% endif %}\n        </td>\n        <td width=\"38%\"><b style=\"font-family: sans-serif; font-size:13px;\">Ship To</b><br><b style=\"font-family: sans-serif; font-size:13px;\">Same State Other State Shipping</b><br>{{ (doc.shipping_address_name or \"\").replace(\"-Billing\", \"\").replace(\"-Shipping\", \"\").strip() }}\n        {% set clean_shipping = [] %}\n        {% for line in (doc.shipping_address or \"\").split(\"<br>\") %}\n            {% if \"Email\" not in line and \"Phone\" not in line %}\n                {% set _ = clean_shipping.append(line) %}\n            {% endif %}\n        {% endfor %}\n        {{ clean_shipping | join(\", \") }}\n        {% if doc.custom_vehicle_no %}\n            <b>Vehicle No.:</b> {{ doc.custom_vehicle_no }} &nbsp;&nbsp;\n        {% endif %}\n\n        {% if doc.custom_ship_by %}\n            <b>Ship By:</b> {{ doc.custom_ship_by }}<br>\n        {% endif %}\n        \n        {% if doc.custom_transporter_name %}\n            <b>Transporter Name:</b> {{ doc.custom_transporter_name }}\n        {% endif %}\n\n    </tr>\n    <tr>\n       <td style=\"font-size: 12px;\">\n            <span style=\"display:inline-block; margin-left:-9px;\">\n                Client PO no.: {{ doc.po_no or \"\" }}\n            </span>\n           <span style=\"display:inline-block;margin-right:-50px;\">\n            Client PO Date: {{ doc.get_formatted(\"po_date\") }}\n           </span>\n        </td>\n        <td>\n            {% set sales_orders = [] %}\n            {% for item in doc.items %}\n                {% if item.sales_order and item.sales_order not in sales_orders %}\n                    {% set _ = sales_orders.append(item.sales_order) %}\n                {% endif %}\n            {% endfor %}\n            Internal Sales Order no.:{{ \", \".join(sales_orders) or \"\" }}\n        </td>\n    </tr>\n</table>\n\n<!-- Items -->\n<table class=\"invoice-table\" border=\"1\">\n    <thead>\n        <tr style=\" color:white; \">\n            <th width=\"3%;\">S.No.</th>\n            <th width=\"20%;\" style=\"text-align:left; \">Item Description</th>\n            <th width=\"12%;\" style=\"text-align:left;\">HSN/SAC</th>\n            <th width=\"7%;\" style=\"text-align:right; \">Qty <br>UoM</th>\n            <th width=\"20%;\" style=\"text-align:right; \">Taxable Value<br>({{ frappe.db.get_value(\"Currency\", doc.currency, \"symbol\") or \"\" }})</th>\n\n            {# --- Detect IGST vs CGST/SGST --- #}\n            {% set igst_exist = doc.items | sum(attribute=\"igst_rate\") %}\n            {% set cgst_exist = doc.items | sum(attribute=\"cgst_rate\") %}\n            {% set sgst_exist = doc.items | sum(attribute=\"sgst_rate\") %}\n\n            {% if igst_exist > 0 and cgst_exist == 0 and sgst_exist == 0 %}\n                <th width=\"11%\" style=\"text-align:right;\">IGST<br>({{ frappe.db.get_value(\"Currency\", doc.currency, \"symbol\") or \"\" }})</th>\n            {% else %}\n                <th width=\"11%\" style=\"text-align:right; \">CGST<br>({{ frappe.db.get_value(\"Currency\", doc.currency, \"symbol\") or \"\" }})</th>\n                <th width=\"11%\" style=\"text-align:right; \">SGST<br>({{ frappe.db.get_value(\"Currency\", doc.currency, \"symbol\") or \"\" }})</th>\n            {% endif %}\n\n            <th width=\"15%\" style=\"text-align:right;\">Amount<br>({{ frappe.db.get_value(\"Currency\", doc.currency, \"symbol\") or \"\" }})</th>\n        </tr>\n    </thead>\n\n    <tbody>\n        {% set total_amount = namespace(value=0) %}\n        {% set total_cgst = namespace(value=0) %}\n        {% set total_sgst = namespace(value=0) %}\n        {% set total_igst = namespace(value=0) %}\n\n        {% for row in doc.items %}\n        <tr>\n            <td style=\"text-align:center; border: 1px solid #ccc;\">{{ row.idx or \"\" }}</td>\n            <td style=\"border: 1px solid #ccc;\">{{ row.description or \"\" }}</td>\n            <td style=\"text-align:center; border: 1px solid #ccc;\">{{ row.gst_hsn_code or \"\" }}</td>\n            <td style=\"text-align:center; border: 1px solid #ccc;\">{{ row.qty or \"\" }}<br>{{ row.uom or \"\" }}</td>\n            <td style=\"text-align:right; border: 1px solid #ccc;\">{{ \"%.2f\"|format(row.amount or 0) }}</td>\n\n            {% set cgst_amt = 0 %}\n            {% set sgst_amt = 0 %}\n            {% set igst_amt = 0 %}\n\n            {% if igst_exist > 0 and cgst_exist == 0 and sgst_exist == 0 %}\n                {% set igst_amt = (row.amount | float * (row.igst_rate or 0))  %}\n                <td style=\"text-align:right; border: 1px solid #ccc;\">{{ \"%.2f\"|format(igst_amt) }} </td>\n                {% set total_igst.value = total_igst.value + igst_amt %}\n            {% else %}\n                {% set cgst_amt = (row.amount | float * (row.cgst_rate or 0))  %}\n                {% set sgst_amt = (row.amount | float * (row.sgst_rate or 0))  %}\n                <td style=\"text-align:right; border: 1px solid #ccc;\">{{ \"%.2f\"|format(cgst_amt) }} </td>\n                <td style=\"text-align:right; border: 1px solid #ccc;\">{{ \"%.2f\"|format(sgst_amt) }} </td>\n                {% set total_cgst.value = total_cgst.value + cgst_amt %}\n                {% set total_sgst.value = total_sgst.value + sgst_amt %}\n            {% endif %}\n\n            <td style=\"text-align:right; border: 1px solid #ccc;\">\n                {% set row_amount = (row.amount or 0) + cgst_amt + sgst_amt + igst_amt %}\n                {{ \"%.2f\"|format(row_amount) }}\n                {% set total_amount.value = total_amount.value + row_amount %}\n            </td>\n        </tr>\n        {% endfor %}\n\n        <!-- Subtotal -->\n        <tr style=\"font-weight:bold; background-color:#fff; font-size:11px; \">\n           <td colspan=\"4\" style=\"text-align:right;\">Total @{{ doc.taxes[0].rate if doc.taxes else \"0\" }}%</td>\n\n            <td style=\"text-align:right; border: 1px solid #ccc;\">\n                {{ frappe.utils.fmt_money(doc.items | sum(attribute=\"amount\")) }}\n            </td>\n\n            {% if igst_exist > 0 and cgst_exist == 0 and sgst_exist == 0 %}\n                <td style=\"text-align:right; border: 1px solid #ccc;\">{{ frappe.utils.fmt_money(total_igst.value) }}</td>\n            {% else %}\n                <td style=\"text-align:right; border: 1px solid #ccc;\">{{ frappe.utils.fmt_money(total_cgst.value) }}</td>\n                <td style=\"text-align:right; border: 1px solid #ccc;\">{{ frappe.utils.fmt_money(total_sgst.value) }}</td>\n            {% endif %}\n\n            <td style=\"text-align:right; font-weight: bold; border: 1px solid #ccc;\">\n                {{ frappe.utils.fmt_money(total_amount.value) }}\n            </td>\n        </tr>\n    </tbody>\n</table>\n\n\n\n<!-- Totals -->\n<div style=\"width:100%; margin-top:10px; font-size:12px;\">\n  <div style=\"display:flex; justify-content:space-between; margin-bottom:4px;\">\n    <div style=\"text-align:right; width:70%; margin-left: -30px;\"><b>Total Taxable Value</b></div>\n    <div style=\"text-align:right; width:30%;\"><b>{{ doc.get_formatted(\"total\") }}</b></div>\n  </div>\n  \n  <div style=\"display:flex; justify-content:space-between; margin-bottom:4px;\">\n    <div style=\"text-align:right; width:70%; margin-left: -30px;\"><b>Total Tax Amount</b></div>\n    <div style=\"text-align:right; width:30%;\"><b>{{ doc.get_formatted(\"total_taxes_and_charges\") }}</b></div>\n  </div>\n  \n  <div style=\"display:flex; justify-content:space-between; margin-bottom:4px;\">\n    <div style=\"text-align:right; width:70%; margin-left: -30px;\"><b>Total Value</b></div>\n    <div style=\"text-align:right; width:30%;\"><b>{{ frappe.utils.fmt_money(doc.grand_total, currency=doc.currency) }}</b></div>\n  </div>\n  \n  <div style=\"display:flex; justify-content:space-between; margin-bottom:4px;\">\n    <div style=\"text-align:right; width:70%; margin-left: -30px;\"><b>Total Value (in words)</b></div>\n    <div style=\"text-align:justify; width:30%; line-height:13px;\">\n       <b>{{ frappe.utils.money_in_words(doc.grand_total, doc.currency) }}</b>\n    </div>\n  </div>\n</div>\n<br><br><br>\n\n<!-- IRN, QR, Bank -->\n<div style=\"display:flex; justify-content:space-between; margin-top:10px; line-height:1.6;\">\n\n    <!-- IRN Details -->\n<div style=\"width:30%; padding:5px; font-size:11px; word-wrap:break-word;\">\n    {% if doc.irn %}\n        {% set e_invoice_log = frappe.get_doc(\"e-Invoice Log\", doc.irn) %}\n        <b>IRN:</b><br>\n        <span style=\"display:block; max-width:250px; font-size:11px; line-height:1.4;\">\n            {% set irn = e_invoice_log.irn or '' %}\n            {% if irn %}\n                {% set chunk = (irn|length // 3) + (1 if irn|length % 3 != 0 else 0) %}\n                {% for i in range(0, irn|length, chunk) %}\n                    {{ irn[i:i+chunk] }}<br>\n                {% endfor %}\n            {% endif %}\n        </span>\n        <b>Ack. No:</b> {{ e_invoice_log.acknowledgement_number }}<br>\n        <b>Ack. Date:</b> {{ frappe.utils.format_date(e_invoice_log.acknowledged_on, \"dd-MM-yyyy\") }}\n    {% else %}\n        <i>No e-Invoice generated</i>\n    {% endif %}\n</div>\n\n    <!-- QR Code -->\n    <div style=\"width:20%; text-align:center; padding:5px;\">\n        {% if doc.irn %}\n            {% set imgsrc = \"data:image/png;base64,\" + get_qr_code(e_invoice_log.signed_qr_code) %}\n            <img src=\"{{ imgsrc }}\" style=\"width:85px; height:85px;\" alt=\"QR Code\">\n        {% endif %}\n    </div>\n    \n    <!-- Bank Details -->\n    <div style=\"width:50%; padding:5px; font-size:11px; word-wrap:break-word; margin-left:25px;\">\n    {% set bank_details = {\n        \"INR\": {\"bank_name\": \"ICICI Bank Ltd\", \"account_no\": \"111105002014\", \"ifsc\": \"ICIC0001111\", \"swift\": \"\", \"currency\": \"INR\", \"account_holder\": \"Swati Airport Support Services Private Limited\", \"branch\": \"Kalyan Nagar, Hyderabad\"},\n        \"USD\": {\"bank_name\": \"ICICI Bank Ltd\", \"account_no\": \"111106000004\", \"ifsc\": \"\", \"swift\": \"ICICINBBCTS\", \"currency\": \"USD\", \"account_holder\": \"Swati Airport Support Services Private Limited\", \"branch\": \"Kalyan Nagar, Hyderabad\"},\n        \"SGD\": {\"bank_name\": \"ICICI Bank Ltd\", \"account_no\": \"111106000006\", \"ifsc\": \"\", \"swift\": \"ICICINBBCTS\", \"currency\": \"SGD\", \"account_holder\": \"Swati Airport Support Services Private Limited\", \"branch\": \"Kalyan Nagar, Hyderabad\"},\n        \"EURO\": {\"bank_name\": \"ICICI Bank Ltd\", \"account_no\": \"111106000005\", \"ifsc\": \"\", \"swift\": \"ICICINBBCTS\", \"currency\": \"EURO\", \"account_holder\": \"Swati Airport Support Services Private Limited\", \"branch\": \"Kalyan Nagar, Hyderabad\"}\n    } %}\n    \n    {% set bank = bank_details.get(doc.currency) %}\n    \n    {% if bank %}\n        <b>Account Holder Name:</b> {{ bank.account_holder }}<br>\n        <b>Bank Name:</b> {{ bank.bank_name }}<br>\n        <b>Branch:</b> {{ bank.branch }}<br>\n        <b>Account Number:</b> {{ bank.account_no }}<br>\n\n        {% if doc.currency == \"INR\" %}\n            <b>IFSC Code:</b> {{ bank.ifsc }}\n        {% else %}\n            <b>SWIFT Code:</b> {{ bank.swift }}\n        {% endif %}\n\n    {% else %}\n        <b>Bank details not available for currency {{ doc.currency }}</b>\n    {% endif %}\n</div>\n</div>\n</div>\n\n<!-- Terms & Signature -->\n<div style=\"display:flex; width:100%; margin-top:10px; line-height:1.4;\">\n    <div style=\"width:60%; padding-right:10px;\">\n    <b>Terms & Conditions</b><br><br>\n    <div style=\"font-style:italic;\">\n        1. Subject to Hyderabad Jurisdiction only.<br>\n        2. Payment should be made within the Due Date.<br>\n        3. Interest @18% will be applicable on the Outstanding Bills.<br>\n        4. Kindly avoid making short/part payments of this Invoice without our consent.\n    </div>\n</div>\n    <div style=\"width:40%; text-align:center;\">\n        <link href=\"https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap\" rel=\"stylesheet\">\n        <p style=\"margin:0; font-style:italic; font-weight:bold;font-size:22px;font-family: 'Dancing Script', cursive;\">\n            Signature\n        </p>\n        <p style=\"font-size:10px;\"><b>For {{ doc.company }}</b></p>\n    </div>\n</div>\n\n</div>\n{% endfor %}\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 0.0,
 "margin_left": 0.0,
 "margin_right": 0.0,
 "margin_top": 0.0,
 "modified": "2025-08-28 16:00:07.895107",
 "modified_by": "Administrator",
 "module": "Swati",
 "name": "Invoice Format",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}